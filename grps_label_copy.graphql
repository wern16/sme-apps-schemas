"""
Defines a calendar date
"""
scalar Date

"""
Defines a point in time (e.g. DateTime)
"""
scalar Datetime

"""
Defines a qualified URL
"""
scalar URL

"""
Identifies the registered backend data sources
"""
enum Source{
    GRPS
    CONSOLE
    SPOTIFY
    APPLE
    GRACENOTE
    MUSICBRAINZ
    ORCHARE
}

"""
Image Usage Types
"""
enum ImageUsageType{
    THUMBNAIL
    COVER_ART
    PROFILE
}
"""
Participant contributor classes or task classes
"""
enum ContributorClass {
    PERFORMANCE
    COMPOSITION
    PRODUCTION
}

"""
Participant Sort Keys
"""
enum GRPS_ParticipantSortKeys {
    ID
    NAME
}

"""
Contributor Role Sort Keys
"""
enum GRPS_ContributorRoleSortKeys {
    ROLE_CLASS
    ROLE_TYPE
}

"""
Contributed Work
"""
enum GRPS_ContributedWorkSortKeys {
    RELEASE_DATE
}

"""
Stub - Aggregate Participant Entity
extend type Participant @key(fields: "grpsId") {
"""
type Participant {
    """
    The source system, unique identifier for the Participant (GRPS ID)
    """
    grpsId: ID!

    """
    Extend Participant to add GRPS_Participant
    """
    GRPS_Participant: GRPS_Participant
}

"""
Identifies the language for localized values
"""
type GRPS_LanguageCd{
    script: String!
    language: String!
}

"""
Identifies the valid country codes
"""
type GRPS_CountryCd{
    """
    The ISO 3166-2 2 character alpha Country Code
    """
    code_2: String!
    """
    The ISO 3166-3 3 character alpha Country Code
    """
    code_3: String!
    """
    The country name
    """
    name: String!
}

"""
Localized text.
"""
type GRPS_LocalString{
    text: String!
    language: GRPS_LanguageCd!
}

"""
Type type of group membership
"""
type GRPS_DataSourceCd{
    id: ID!
    code: String!
    title: GRPS_LocalString!
}
"""
A Company associated with the Participant, Project, Product.
"""
type GRPS_Company {
    id: ID!
}

"""
A Repertoire Owner
"""
type GRPS_Repertoire_Owner {
    id: ID!
    company: GRPS_Company
}

"""
The Type of Artist with localized titles
"""
type GRPS_ParticipantType {
    id: ID!
    title: GRPS_LocalString!
    eligibleMember: Boolean!
    eligibleGroup: Boolean!
    """
    Defines a further classification of the type of Participant
    """
    participantSubTypes: [GRPS_LocalString!]
}

"""
A fully qualified, localized party name
"""
type GRPS_PartyName{
    """
    The complete name of the Party in its normal
    form of presentation (e.g. John H. SMith, Acme
    Music Inc., The Beatles)
    """
    fullName: String!
    """
    The fullname transcribed into 7-bit ASCII characters
    """
    asciiFullName: String!
    """
    The complete name of the Party in the form in which it
    normally appears in an alphabetic index, with
    the KeyName first (e.g. Smith, John H.; Beatles, The)
    """
    indexName: String!
    """
    The names (aka First Name) preceeding the KeyName in the
    full name (e.g. 'George' in 'George Michael'; 'John
    Fitzgerald' in 'John Fitzgerald Kennedy').  Not all Party
    Names have a NamesBeforeKeyName (e.g. Madonna, Prince).
    """
    namesBeforeKeyName: String!
    """
    The family or surname (aka Last Name) typically used to
    index an entry in an alphabetic list, such as 'Michael' in
    'George Michael' or 'Kennedy' in 'John Fitzgerald Kennedy'.
    """
    keyname: String!
    """
    The names following the KeyName (e.g. 'Ibrahim' in 'Anwar
    Ibrahim').  This is common in many Asian personal name forms
    where the full name begins with the KeyName, which is followed
    by other names.
    """
    namesAfterKeyname: String!
    """
    Any additions to the Last and First Name such as featuring
    artist information or duet partners
    """
    bleed: String!
    """
    A short version of the Party Name for use on devices with
    a small display.
    """
    abbrName: String!
    """
    The local language context for name
    """
    language: GRPS_LanguageCd
}
"""
Identifies the local Participant id and name
"""
type GRPS_Local_Participant {
    """
    The local Country
    """
    country: GRPS_CountryCd
    """
    The local Country Participant Identifer
    """
    localId: String
    """
    The local name of the Participant in the designated language
    """
    localName: GRPS_PartyName
}

"""
Identifies the local Company Participant id and name
"""
type GRPS_Company_Participant {
    """
    The associated Company
    """
    company: GRPS_Company
    """
    The local Company Participant Identifer
    """
    localId: String
    """
    The local name of the Participant in the designated language
    """
    localName: GRPS_PartyName
}

"""
Individual, Band Artists, Participants
@ToDo - Add Rep Owner, Participant Main Artist relations, and Participant Credits
"""
type GRPS_Participant{
    """
    The source system, unique identifier for the Participant (GRPS ID)
    """
    id: ID!
    """
    A moniker identifying the source backend service for this instance of a Participant.  This is a constang 'GRPS'.
    """
    source: Source!
    """
    A collection of mapped, external (Spotify, Gracenote, Orchard, etc.) Participant Entities (normalize tras006)
    """
    extParticipants: [Participant!]
    """
    The fully qualified, localized name for the Participant (source tras006 with language code)
    """
    name: GRPS_PartyName!
    """
    Information to assist in identifying similar artist names (e.g. tras039 Characteristics)
    """
    disambiguation: String!
    """
    The native language of the participant (source tras006)
    """
    nativeLanguage: GRPS_LanguageCd
    """
    The legal name for the Participant, if different than the Participant name (tras006 qualified Legal Name)
    """
    legalName: GRPS_PartyName
    """
    A collection of localized names for the primary name of Participant (sources all localized names, and encodings)
    """
    localizedNames: [GRPS_PartyName!]
    """
    A collection of local country information for the Participant (source tras212, tras026)
    """
    altLocalParticipants: [GRPS_Local_Participant!]
    """
    A collection of Company specfic information for the Participant (source tras399)
    """
    altCompanyParticipants: [GRPS_Company_Participant!]
    """
    A collection of collaborations the Participant (source tras006 family-no), exclude source Participant.
    """
    collaborations(limit: Int!, after: String, query: String, sortKey: GRPS_ParticipantSortKeys = ID, reverse: Boolean = false): [GRPS_ParticipantConnection!]
    """
    A collection of also known as names for the Participant (e.g.
    'Beyonce' is also known as 'Queen B', 'Bruce Springsteen' is
    also known as 'The Boss').  This collection may include
    the Legal Name for the Participant (source tras006 - alias_no)
    """
    altNames: [GRPS_PartyName!]
    """
    Defines the type of Paricipant (e.g. Person, Individual,
    Band or Compound Artist). This is a key table for valid
    Participant Types
    """
    participantType: GRPS_ParticipantType!
    """
    Identifies Particpant membership in a group
    """
    memberOf: [GRPS_Member!]
    """
    Identifies member Participats of this Participant group
    """
    members: [GRPS_Member!]
    """
    Date of Birth
    """
    dateOfBirth: Date
    """
    Date of Death
    """
    dateOfDeath: Date
    """
    The nationality of the Participant
    """
    nationality: GRPS_CountryCd
    """
    City associated with Participant
    """
    cityAffliation: String
    """
    Most frequent contributor roles
    """
    typicalRoles: String
    """
    Participant Recording Projects
    """
    projects: [GRPS_Recording_Project!]
    """
    Participant Main Works
    """
    mainWorks (limit: Int!, after: String, query: String, sortKey: GRPS_ContributorRoleSortKeys = ID, reverse: Boolean = false): [GRPS_MainWorkConnection!]
    """
    Participant Works
    """
    otherContributions (limit: Int!, after: String, query: String, sortKey: GRPS_ContributorRoleSortKeys = CLASS, reverse: Boolean = false): [GRPS_ContributedWorkConnection!]
    """
    Notes and comments regarding Participant
    """
    comments: [GRPS_Comment!]
    """
    User messages posted to the Participant
    """
    userMessages: [GRPS_User_Message!]
    """
    Participant images
    """
    images: [GRPS_Image!]
    """
    Related Participant Content Links
    """
    relatedContent: [GRPS_ContentLink!]
    """
    A collection of downstream systems dependent on this Participant
    """
    whereUsed: [String!]
}

"""
Defines a member in a group of participants.
"""
type GRPS_Member{
    """
    Defines the type of membership for a participant
    """
    memberType: String!
    """
    Member Participant
    """
    member: GRPS_Participant
}

"""
A tagging interface to define an entity for which Participants can contribute to its creation
"""
interface GRPS_ContributableWork {
    id: ID!
}

"""
Defines a Participant Credit or Contribution to a Recording Project, Product Version, Product or Track
"""
type GRPS_ContributedWork {
    """
    Defines the high level role for the Particpant contribution
    """
    roleClass: ContributorClass!
    """
    Defines the specific role the Participant contribution (e.g. DDEX Contributor Roles)
    """
    roleType: String!
    """
    The entity for which the Participant contributed to its production
    """
    work: GRPS_ContributableWork!
    """
    A flag to indicate the Participant's role in the work is confidential
    """
    isConfidential: Boolean
}

"""
Defines a Participant Credit or Contribution to a Recording Project, Product Version, Product or Track
"""
type GRPS_Contributer {
    """
    Defines the high level role for the Particpant contribution
    """
    roleClass: ContributorClass!
    """
    Defines the specific role the Participant contribution (e.g. DDEX Contributor Roles)
    """
    roleType: String!
    """
    The entity for which the Participant contributed to its production
    """
    contributor: GRPS_Participant!
    """
    A flag to indicate the Participant's role in the work is confidential
    """
    isConfidential: Boolean
}

"""
A Contributed Work Connection
"""
type GRPS_ContributedWorkConnection {
    totalCount: Int!
    nodes: [GRPS_ContributedWork!]
}

"""
A WorkConnection
"""
type GRPS_MainWorkConnection {
    totalCount: Int!
    nodes: [GRPS_ContributableWork!]
}
"""
A Participant Contributor Connection
"""
type GRPS_ContributerConnection {
    totalCount: Int!
    nodes: [GRPS_Contributer!]
}

"""
Defines a localized, ordered entity comment
"""
type GRPS_Comment{
    text: GRPS_LocalString!
    updateDt: Datetime!
    updateBy: String!
}

"""
Defines a localized, ordered user message comment
"""
type GRPS_User_Message{
    messageType: String!
    messageText: GRPS_LocalString
    participant: GRPS_Participant
    project: GRPS_Recording_Project
    productVersion: GRPS_Product_Version
    product: GRPS_Product_Version
    track: GRPS_Track
    updateDt: Datetime!
    updateBy: String!
}
"""
Defines a internet accessible image for use with Entities
"""
type GRPS_Image{
    url: URL!
    source: Source!
    text: GRPS_LocalString
    height: Int!
    width: Int!
    usage: ImageUsageType!
}

"""
Defines an content links for an entity
"""
type GRPS_ContentLink{
    url: URL!
    source: Source!
    text: GRPS_LocalString
    desc: GRPS_LocalString
}

"""
Defines a Recording Project
"""
type GRPS_Recording_Project implements GRPS_ContributableWork {
    """
    The source system, unique identifier for the Recording Project
    """
    id: ID!
    """
    A moniker identifying the source backend service for this instance of a Recording Project
    """
    source: Source!
    """
    Participants contributing to this Recording Project
    """
    contributors (limit: Int!, after: String, query: String, sortKey: GRPS_ContributorRoleSortKeys = ID, reverse: Boolean = false): [GRPS_ContributerConnection!]
}


"""
Defines a Prodcut Version
"""
type GRPS_Product_Version implements GRPS_ContributableWork {
    """
    The source system, unique identifier for the Product Version
    """
    id: ID!
    """
    A moniker identifying the source backend service for this instance of a Product Version
    """
    source: Source!
    """
    Participants contributing to this Product Version
    """
    contributors (limit: Int!, after: String, query: String, sortKey: GRPS_ContributorRoleSortKeys = ID, reverse: Boolean = false): [GRPS_ContributerConnection!]

}


"""
Defines a Product
"""
type GRPS_Product implements GRPS_ContributableWork {
    """
    The source system, unique identifier for the Product
    """
    id: ID!
    """
    A moniker identifying the source backend service for this instance of a Product
    """
    source: Source!
    """
    Participants contributing to this Product
    """
    contributors (limit: Int!, after: String, query: String, sortKey: GRPS_ContributorRoleSortKeys = ID, reverse: Boolean = false): [GRPS_ContributerConnection!]

}

"""
Defines a Track (aka DDEX MusicalWorkSoundRecording)
"""
type GRPS_Track implements GRPS_ContributableWork {
    """
    The source system, unique identifier for the Track
    """
    id: ID!
    """
    A moniker identifying the source backend service for this instance of a Track
    """
    source: Source!
    """
    Participants contributing to this Track
    """
    contributors (limit: Int!, after: String, query: String, sortKey: GRPS_ContributorRoleSortKeys = ID, reverse: Boolean = false): [GRPS_ContributerConnection!]


}


"""
Defines a Song (aka DDEX MusicalWork)
"""
type GRPS_Song {
    """
    The source system, unique identifier for the Song
    """
    id: ID!
    """
    A moniker identifying the source backend service for this instance of a Song
    """
    source: Source!
}

"""
Information about pagination in a connection.
"""
type GRPS_ParticipantConnection {
    """
    Identifies the total count of items in the connection
    """
    totalCount: Int!

    """
    A list of Participant nodes
    """
    nodes: [GRPS_Participant!]
}

input ParticipantInput {
    """
    The fully qualified, localized name for the Participant (source tras006 with language code)
    """
    name: GRPS_PartyName!
    """
    Information to assist in identifying similar artist names (e.g. tras039 Characteristics)
    """
    disambiguation: String!
    """
    The native language of the participant (source tras006)
    """
    nativeLanguage: GRPS_LanguageCd
    """
    The legal name for the Participant, if different than the Participant name (tras006 qualified Legal Name)
    """
    legalName: GRPS_PartyName
    """
    A collection of localized names for the primary name of Participant (sources all localized names, and encodings)
    """
    localizedNames: [GRPS_PartyName!]
    """
    A collection of local country information for the Participant (source tras212, tras026)
    """
    altLocalParticipants: [GRPS_Local_Participant!]
    """
    A collection of Company specfic information for the Participant (source tras399)
    """
    altCompanyParticipants: [GRPS_Company_Participant!]
    """
    A collection of also known as names for the Participant (e.g.
    'Beyonce' is also known as 'Queen B', 'Bruce Springsteen' is
    also known as 'The Boss').  This collection may include
    the Legal Name for the Participant (source tras006 - alias_no)
    """
    altNames: [GRPS_PartyName!]
    """
    Defines the type of Paricipant (e.g. Person, Individual,
    Band or Compound Artist). This is a key table for valid
    Participant Types
    """
    participantType: GRPS_ParticipantType!
    """
    Date of Birth
    """
    dateOfBirth: Date
    """
    Date of Death
    """
    dateOfDeath: Date
    """
    The nationality of the Participant
    """
    nationality: GRPS_CountryCd
    """
    City associated with Participant
    """
    cityAffliation: String

}
"""
Return type for createParticipant mutation
"""
type GRPS_ParticipantMutationResult {
    """
    The created Participant
    """
    participant: GRPS_Participant
    """
    A list of checked errors that occurred executing the mutation
    """
    userErrors: [GRPS_UserError!]!
}

type GRPS_UserError {
    """
    THe path to the field which caused the error
    """
    field: [String!]
    """
    A unique code identifying the error
    """
    code: String!
    """
    The error message
    """
    message: String!
}

type Query {
    """
    Returns the Participant by Id
    """
    participant(id: String!) : GRPS_Participant

    """
    Search across for GRPS specific Participants, and if referenced, delegate to RDX service to find external links
    # Search for matching Participant from the GRPS backend service
    # Return GRPS_Participant type for each matching GRPS Participant
    # A reference to a extParticipants field causes the federation to delegate to RDX service using GRPS Participant id and source
    # RDX service finds all external Participants (id and source) mapped to the GRPS Participant
    # A reference to a Spotify Participant field on the external Participant causes the federation to delegate to SPOT_Participant field
    # The result is a GRPS Participant with a collection of external linked Participants

    Parameters:
    limit - the number of Participants to return
    after - return the next limit of Participants after the provided Participant Id
    query - text search across selected fields, OR formated search syntax (e.g. GRPS Search Syntax)
    sortKey - an enum identifying the field to sort on
    reverse - a boolean to indicate whether to reverse the sort (DESC)
    """
    participants (limit: Int!, after: String, query: String, sortKey: GRPS_ParticipantSortKeys = ID, reverse: Boolean = false) : [GRPS_ParticipantConnection!]
}

type Mutation {
    """
    Create a new Participant
    """
    participantCreate(input: ParticipantInput!) : GRPS_ParticipantMutationResult
    """
    Update a Participant
    """
    participantUpdate(input: ParticipantInput!) : GRPS_ParticipantMutationResult

}

schema{f
    query: Query
    mutation: Mutation
}